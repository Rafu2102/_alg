# n 維數值積分：黎曼積分與蒙地卡羅積分

本專案實作 **n 維函數的數值積分**，其中維度 n 為可變參數，  
並分別使用以下兩種方法進行積分近似：

- n 維黎曼積分（Riemann Sum，使用遞迴實作）
- n 維蒙地卡羅積分（Monte Carlo Integration）

此專案的目的在於：
1. 解決「維度 n 不固定，無法使用 n 層迴圈」的問題  
2. 比較傳統黎曼積分與蒙地卡羅積分在高維空間中的差異  

---

## 一、問題背景

對於一個 n 維函數：

\[
f(x_1, x_2, \dots, x_n)
\]

其在 n 維區域上的積分為：

\[
\int f(x_1, x_2, \dots, x_n)\,dx_1 dx_2 \cdots dx_n
\]

當 n 不固定時：
- 無法預先寫出固定層數的巢狀迴圈
- 需要使用遞迴或隨機方法處理

---

## 二、n 維黎曼積分（Riemann Sum）

### 方法說明

n 維黎曼積分的核心概念為：
- 將每一維區間切成 m 等分
- 在每個小超立方體中選取一個代表點
- 將函數值乘上體積後加總

數學近似式如下：

\[
\int f(\mathbf{x})\,d\mathbf{x}
\approx
\sum f(\mathbf{x}_i)\,\Delta V
\]

其中：
- \(\Delta V = \prod_{k=1}^{n} \Delta x_k\)

---

### 程式實作重點

- 使用 **遞迴（recursion）** 來取代 n 層巢狀迴圈
- 每一層遞迴代表一個維度
- 當遞迴深度等於 n 時，計算一次函數值

### 優缺點

**優點**
- 概念直觀
- 適合低維度積分

**缺點**
- 計算量為 \( m^n \)
- 維度稍大時計算成本急遽上升（維度災難）

---

## 三、n 維蒙地卡羅積分（Monte Carlo Integration）

### 方法說明

蒙地卡羅積分透過隨機抽樣來近似積分值：

1. 在 n 維區域內均勻隨機取 N 個點
2. 計算函數值的平均
3. 將平均值乘上區域體積

近似公式為：

\[
\int f(\mathbf{x})\,d\mathbf{x}
\approx
V \cdot \frac{1}{N} \sum_{i=1}^{N} f(\mathbf{x}_i)
\]

---

### 程式實作重點

- 使用亂數在每一維區間內隨機取值
- 計算所有樣本點的平均函數值
- 誤差約為 \( O(1/\sqrt{N}) \)，與維度無關

### 優缺點

**優點**
- 適合高維積分
- 計算成本不會隨維度指數成長

**缺點**
- 結果具有隨機誤差
- 需要大量樣本提升準確度

---

## 四、兩種方法比較

| 方法 | 是否使用遞迴 | 是否適合高維 | 誤差特性 |
|---|---|---|---|
| 黎曼積分 | 是 | 否 | 隨切割數改善 |
| 蒙地卡羅 | 否 | 是 | 約為 \(1/\sqrt{N}\) |

---

## 五、結論

本專案同時實作了：
- **n 維黎曼積分（遞迴實作）**
- **n 維蒙地卡羅積分（隨機抽樣）**

並展示了在維度增加時：
- 傳統黎曼積分會受到維度災難影響
- 蒙地卡羅積分仍可有效近似積分結果

此實作可作為高維數值積分的基礎範例與比較工具。
